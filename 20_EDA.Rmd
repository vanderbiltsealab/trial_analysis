---
title: "20_EDA"
output: html_notebook
---

```{r}
hist(df$distance)
hist(log(df$distance))

```


```{r}
df$hour <- df$time
df$hour <- format(strptime(df$hour,"%Y-%m-%d %H:%M:%S"),'%H:%M')
```

```{r}
df1 <- df %>% filter(name != 'Sid') %>% filter(other_device == 'c0:98:e5:42:01:03')
#df1 <- df1 %>% group_by(hour) %>% filter(distance == min(distance))
```



```{r}
pp <- ggplot(df1, aes(time, distance_m, size = .9, colour = name)) +
  geom_point(alpha = 0.7, show.legend = FALSE) +
  geom_hline(yintercept = 1, color = 'red') +
  xlab('Time') +
  ylab('Distance (Meters)')


plot(pp)
```


```{r}

pq <- pp +
  facet_wrap(~name) +
  transition_reveal(time)+
  theme(panel.grid.minor = element_blank(), panel.grid.major = element_blank()) +
  theme_light()



animate(pq, duration = 25)
```


```{r}
##to save file -- 
#a <- animate(pq, renderer = av_renderer("dist_animate.mp4"), duration = 25, width = 800, height = 450)
#anim_save("dist_animate1.mp4", a)
```

