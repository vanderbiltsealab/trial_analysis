# Capstone

My primary goal with this project is to determine "loops" between parents and children. It is well-known that there is a "circle of security" that children have which is when they are near to a parent. Here, we consider that circle to be when a child is within touching distance of a parent (roughly 1 meter). I find these loops within the data and attempt to analyze who "departs" or walks out of touching distance, and who "arrives" or comes back within touching distance. The ultimate goal is to see how these trends change as a child gets older and who is driving most of the interaction in either direction.

## [1. Data](https://github.com/amandashort/capstone/tree/main/data)

First, the data must be read in. In the data folder, there are 3 log files, one for each family member. There are also 3 motion csv's that are generated by running the [motion processing file](https://github.com/amandashort/capstone/blob/main/tottag-motion.ipynb). In the [data processing file](https://github.com/amandashort/capstone/blob/main/10_data.Rmd), these files are merged for each individual to obtain a complete record of data for one day. I also create one large dataframe with all individuals' data together. Finally, I create one file for each pair (father with child and mother with child). These files will be used later on for the loop creation.

## [2. EDA](https://github.com/amandashort/capstone/blob/main/20_EDA.Rmd)

Here, I aim to show the interaction between each parent and the child. I create an animated plot that shows the distance of each parent to the child throughout the day. 

## [3. Analysis](https://github.com/amandashort/capstone/tree/main/analysis)

All of the loop analysis is contained within this folder. 

First, I look specifically at the [isolated interactions](https://github.com/amandashort/capstone/blob/main/analysis/40_analysis.Rmd) of the child with each parent. This includes when just the child is in motion and when both individuals in the pair are in motion.

Next, I look at how many loops are made when the [mother is in motion](https://github.com/amandashort/capstone/blob/main/analysis/41_analysis.Rmd) and also visualize the proportion of time that they spend within touching distance versus outside of touching distance. I do the same for the [father](https://github.com/amandashort/capstone/blob/main/analysis/42_analysis.Rmd)

Ultimately, we are interested in everyone interacting at once. This means that the child could depart from the mother, and the father could arrive back at the child and this would still be a loop. This means that the same person does not need to initate and close a loop for it to be counted. So, everyone must be able to be in motion or stationary at all times which required me to [join the data](https://github.com/amandashort/capstone/blob/main/analysis/43_analysis.Rmd). Since the child is still the primary subject of interest, I drop any rows where his or her data is NA.

[This notebook](https://github.com/amandashort/capstone/blob/main/analysis/44_checkin.Rmd) is where most of the loop calculation actually takes place. Here, I define both arrivals as well as departures. As a note, right now, there are often many "unmatched" departures since the logic for the departures is not fully capable of standing alone. 

Since much of this project was based on metrics created by the team, I wanted to see if there was a clear [time value](https://github.com/amandashort/capstone/blob/main/analysis/45_metric.Rmd) that we should be using to define the loops. This means that throughout the project, I was using 3 seconds as the minimum time spent outside of touching distance for a loop to be considered. However, I wanted to see if there was a different value that we should be using based on the data. I find that there does not appear to be a clear "turning point" that would indicate such a value. 

The final part of this project was to build in the capability to look at loops during certain portions of the day. This can be done with specific times, or could be specified as "morning", "afternoon", etc. as seen [here](https://github.com/amandashort/capstone/blob/main/analysis/46_time.Rmd).
Finally, I needed to remove all of the extra departures that did not have corresponding arrivals, which I did by pulling the first departure value following an arrival and discarding the rest. I also plot the frequency of arrivals and departures by individual or group.





